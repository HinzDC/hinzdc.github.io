# Enable TLSv1.2 for compatibility with older clients
[Net.ServicePointManager]::SecurityProtocol = [Net.ServicePointManager]::SecurityProtocol -bor [Net.SecurityProtocolType]::Tls12

$command = { Start-Process -FilePath "winget" -ArgumentList "install", "-e", "--id", "Tonec.InternetDownloadManager" }
$job = Start-Job -ScriptBlock $command
Wait-Job $job
$jobStatus = Receive-Job $job
Write-Host "Status: $jobStatus"
Remove-Job $job
Start-Sleep -Seconds 10
& ([ScriptBlock]::Create((irm https://massgrave.dev/ias))) /act
reg add "HKEY_CURRENT_USER\Software\DownloadManager" /v "TipStartUp" /t REG_DWORD /d 1 /f
reg add "HKEY_CURRENT_USER\Software\DownloadManager" /v "LstCheck" /t REG_SZ /d "31/12/99" /f
[System.Reflection.Assembly]::LoadWithPartialName("System.Windows.Forms")
[System.Windows.Forms.MessageBox]::Show("IDM Sudah Terinstall Dan Teraktivasi", "OLIH X SARGA//~", [System.Windows.Forms.MessageBoxButtons]::OK, [System.Windows.Forms.MessageBoxIcon]::Information)
exit
